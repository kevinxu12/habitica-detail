// Autogenerated Detail test, do not edit.

const originalEnvironment = process.env;
process.env.COPYSCAPE_USERNAME = "UNKNOWN";
process.env.COPYSCAPE_KEY = "REDACTED";
process.env.JUNE_KEY = "REDACTED";
process.env.MG_API_KEY = "REDACTED";
process.env.BUGSNAG_KEY = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
process.env.NANGO = "REDACTED";
process.env.SCREENSHOT_ONE_ACCESS_KEY = "REDACTED";
process.env.SCREENSHOT_ONE_SECRET_KEY = "REDACTED";
process.env.__DETAIL_TEST_MODE = "true";

import { libraries, request, utils } from "@detail-dev/replay";
import crypto from "crypto";
import { createClient } from "redis";

jest.mock("crypto", () => {
  const mCrypto = {
    ...jest.requireActual("crypto"),
  };
  return mCrypto;
});
jest.mock("redis", () => libraries.RedisInterceptor.createMock());

describe("GET /api/v4/world-state", () => {
  let response: request.Response;
  let httpInterceptor: libraries.HttpInterceptor;

  // Set up crypto fixtures.
  const cryptoCallsExpected = [
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [5],
      },
      output: {
        type: "Buffer",
        data: [8, 248, 113, 25, 236],
      },
      id: "442f2057c1753dc3",
      timestamp: 1715711549203000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          180, 236, 237, 16, 110, 219, 146, 238, 126, 38, 168, 140, 205, 212,
          221, 120,
        ],
      },
      id: "bdd011245180a8fc",
      timestamp: 1715711549215000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          116, 10, 242, 165, 56, 32, 80, 201, 109, 203, 153, 83, 220, 179, 90,
          161,
        ],
      },
      id: "46ef1fcdec824bff",
      timestamp: 1715711549216000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          107, 239, 239, 76, 158, 177, 200, 16, 46, 12, 106, 156, 128, 248, 44,
          17,
        ],
      },
      id: "f062b03a2296796a",
      timestamp: 1715711549217000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          6, 169, 36, 112, 180, 204, 220, 129, 240, 105, 184, 111, 145, 42, 12,
          123,
        ],
      },
      id: "2aba6ea91ed1e9be",
      timestamp: 1715711549219000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          55, 206, 250, 126, 189, 142, 84, 126, 39, 149, 110, 82, 130, 152, 22,
          92,
        ],
      },
      id: "657f01cad6866157",
      timestamp: 1715711549220000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          176, 174, 150, 55, 64, 92, 87, 203, 193, 246, 169, 128, 114, 42, 33,
          239,
        ],
      },
      id: "fb74fa3188b8bd8a",
      timestamp: 1715711549223000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          42, 251, 223, 107, 142, 31, 233, 46, 84, 233, 26, 173, 242, 11, 153,
          5,
        ],
      },
      id: "25a2cdb73fdb71f3",
      timestamp: 1715711549224000,
      startup: true,
    },
  ];
  let cryptoInterceptor: libraries.CryptoInterceptor;

  const OriginalDate = Date;
  // Set up date fixtures.
  const dateCallsExpected = [
    {
      library: "date",
      input: "now",
      output: "1715711599090",
      id: "51c5c2a592482b4a",
      timestamp: 1715711599090000,
      startup: false,
    },
    {
      library: "date",
      input: "Date.new",
      output: "2024-05-14T18:33:19.090Z",
      id: "2d2dcddd456b79f4",
      timestamp: 1715711599090000,
      startup: false,
    },
    {
      library: "date",
      input: "Date.new",
      output: "2024-05-14T18:33:19.090Z",
      id: "170facfe3ad8ead1",
      timestamp: 1715711599090000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599095",
      id: "9891251abb34d296",
      timestamp: 1715711599095000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599095",
      id: "c062cbc7a492a1bf",
      timestamp: 1715711599095000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "2b736e9fb855206f",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "9dadae1d492bc2d9",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "9ca36c9027a477e4",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "d4f2aedf40280766",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "7c649dd196752d54",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "02b4ddd1439ca9ae",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "5891f43337e5de59",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "80967fdf97c29e41",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "f1b83bcdee868711",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "e9307dec49e96e9c",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "8b54f457c11ae807",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "fc87116d4a23d8ef",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599096",
      id: "b3c40e0a896246e1",
      timestamp: 1715711599096000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "c7430bfbc5a8b717",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "0cf1021ce8deba43",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "0d9e55d36a732f1e",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "e741c901b392447d",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "db25851f3f5540af",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "1ae4e9fd0068ee4b",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "480560a5a0d8cbd1",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599097",
      id: "3fe881aead555064",
      timestamp: 1715711599097000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "018261effd3fc9fe",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "61e43f3a1d491903",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "adcb29a206f4af6c",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "cd8524cdce47700a",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "e37417c1d2c0b5ff",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "2a169e37d7c24e5e",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "122677dfa19fc8c8",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "556f2dcddd0e7853",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "f83e54e0eaa2139f",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "35e7a64eaba834e9",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "29e3b76faa135a50",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "e9634ed5b78727e9",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "1b8f0a8a8b7c1c4e",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "1110d103097ded26",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "8408ab38e94c82c8",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "5b5d0c6c42bc89e1",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599098",
      id: "3eec8e4efc379300",
      timestamp: 1715711599098000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "a5aa64ce99bdaf80",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "2cd714217d92f191",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "96b9418fea7e1a02",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "2e5900a508d1cd99",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "b887293c5210b3c4",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "e864e8051798a35b",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "3c906b86adf13f0d",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "cea482bf45aa2a4d",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "743149fe07a7486c",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "0ddd90fcd98e5fa7",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "431b952e7feff3ca",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "4d07e2e3ccdb49fc",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "4f11299dc2036283",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "22fc895f314767a3",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "26d3386a743e52c7",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "e60fc1e5bc116695",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "30acd2d5e51812d3",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599099",
      id: "0fc869b43745e3bb",
      timestamp: 1715711599099000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "cb0f55e7fc9b5e01",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "5bb72ad8c5b078c5",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "dde43c8711bea613",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "a1bd88db61e1a5a3",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "6599cd4bb6127364",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "365cb1cbb91b8a72",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "d05b6ebe8dac31c9",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "fd4cef41a95c35b3",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "ae514ff47f4946f0",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "97ab2c8d15bc03fa",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "c5f2608f9a6b0c94",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "d9a3970cd203c923",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "dfdc37a8b754b575",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "4b0dec47dd190e42",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "23a4b56be40b3835",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "0f30859155d7c17d",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "ffe5d14ad5024afe",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599100",
      id: "37824c3a582ad175",
      timestamp: 1715711599100000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "9c3c77e7ec3c9e50",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "1203e6c46cc7f525",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "8baa31eadb87c879",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "466fa62ce29f30fe",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "5f78a1f77956d589",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "a7215f02c2f94a39",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "2ae7e09e8ae962c5",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "f446daa8fa9fe908",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "d21f53b97454bcb9",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "f7b750a3dc704cbf",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "f5e63fbc039a0a54",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "2d25c68aaeeac8b0",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599101",
      id: "e8a49cd6e630e740",
      timestamp: 1715711599101000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "36ee5a70d2d5bc04",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "58defb79febe80e9",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "d59672e75f5a1ae8",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "ddc956ae3cdd2f7c",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "838720c5cc4b32e6",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "fb556569842f1d66",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "ec7e0126d9092b62",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599102",
      id: "09a96279bd8cceda",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "48e6f5f98a2fd2fe",
      timestamp: 1715711599102000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "e7d6fc4a10ad32fa",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "3080c18f7808beb0",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "0f963c8e05cff8e4",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "b8d609654b386fec",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "5e54415ba1fd7769",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "1bf459c830365314",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "e261a99306d795a9",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "db0ed47f89fbeaa8",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "1a43d6912648736b",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "e2fe8fbdbb63d0ff",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "c3f11b34224b5eb5",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "f430ca2b4d125736",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599103",
      id: "12583b56080c66ae",
      timestamp: 1715711599103000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "c1c937b738e6a3e2",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "906ebed2e9180a83",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "4be8e865c628aec9",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "074c3715f1c3ce61",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "d8bdb85cdec2f5ef",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "e03d93cc2f99d822",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "b9c0a6ec4dc839b7",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "042537e010903ab2",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "499e376bc3b592c5",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "26c297592c461192",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "3989b06688a30f3a",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "25be6b29a78f7215",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "2c43f95c32d6f972",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "62319cf94637e22d",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "81a79d4ba4b652c6",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "e470638257aa2a2e",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "6b5805b17160209b",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "0a5b6220e4e3413f",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599104",
      id: "841956d5500ddc61",
      timestamp: 1715711599104000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "a0a848e984194ae9",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "ab65e91f7b5b4ea8",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "fd6d885aa58c3c47",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "0f88b0aeec57e48c",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "49197155640e9b82",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "2f0db604e4f46b5f",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "7f167b6988284427",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "a4d82aa71184fe7a",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "f68324874728f140",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "2013e12348cc565f",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "64e7d0183dcc1e23",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "74ea145bf2802977",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "14600324ca2f6a59",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "6082bf7d01c28756",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "23174484a0e09d04",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "c1fcdc8440bf2e43",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "5fd191bda972296c",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "9d8f96d6f5666383",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599105",
      id: "ca785945790bee8c",
      timestamp: 1715711599105000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "6c61dbbef2119dce",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "b3fbf05bdb877b34",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "4dbcb1d924e5b0a6",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "135280f45248fecb",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "0054c882278b14eb",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "9c3e53773b9e1f00",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "6011af8fb76089d9",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "84e3c8a7cdd697fc",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "8414df9abd1d35e9",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "9039db5249e5f4c9",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "76cf055ef7aa8391",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "4666ad8e29c0df30",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "cdeb05442166f58a",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "1a81a5ec8675e37b",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "9b850a0e177e4015",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "76a3b9f43f4128bd",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "e5902958349279dc",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "80217ca2f081a088",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "07b67aeebaf4b09b",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599106",
      id: "658af3b1380b67ce",
      timestamp: 1715711599106000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "49a4d6280ea37cfe",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "466cea02b8f0dbe0",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "48a37f6ce7aec62f",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "9bd5a269d0be6f59",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "12fdb0b3d562962e",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "958b7ea42bd382d6",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "416477fe018448d6",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "60171c41976a1ded",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "845bcee6518c0285",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "50156d0b6383c4c4",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "f26b6f834c3e19bb",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "491d0fee234adc4c",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "f8d1b325769b4f5a",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "14fb1b35e888fd15",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "8db14921ea76dd51",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "bddc47b4a77c99e1",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "e6ac43f80345f885",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "c5554641333ec7ea",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "6c9a1335e375cf79",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "37a55f70cfb97a36",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599107",
      id: "c2e42c75a8c8d74b",
      timestamp: 1715711599107000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "0235a6d0b7f7063a",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "172f1945a5da680a",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "8445666d8a50b957",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "154d623662e65ffb",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "1d1ffcd598f0a7ce",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "a20a7e4f7c11e28d",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599108",
      id: "ece3ba65d715628f",
      timestamp: 1715711599108000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "da15dbc3775c16f4",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "3d1f0d206ce65e4d",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "30cca4c26bf4da6f",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "d0c4131705316d7c",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "87e464a420b0e944",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "b6ce4223f27d08c8",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "22509ecd3b34f5d6",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "b1c3ed513e3e9569",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "23a09d587f26c2c5",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "e65dff752ae5c967",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "880dce8956dfa7e8",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "d63b1a11995e9c33",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "53df6239805b8295",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "ad85f0fcf4ded1b2",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "2dc0ece901c56fb1",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "91e4717b0ba4bd37",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599109",
      id: "c61ac2b87fb97164",
      timestamp: 1715711599109000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "9b35ee453a69a9bd",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "771e07fcdb32f6da",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "1ccb236116da19a2",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "61b164d732bfa88b",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "73e35041873eb78c",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "3fa371961f82214e",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "23abe007ddf9edc3",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "3e5b2b80dcd1de7e",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "8fd32cda1e82fe9b",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "31aa7341792988ac",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "f19ff972fc8250e8",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "2a1bec4ef917345f",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "0eaf9dbb9443e0c7",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "0147d937146acf02",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "c1bb79a9a74236e5",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "e41833051229daa2",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "883d36fcd2190090",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "77be2c5bb6dcac26",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "ca0728164c3dde61",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "8a6cfc1862a4ef49",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599110",
      id: "9cb356e893e990db",
      timestamp: 1715711599110000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "44217a9617c9ed80",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "99436d9585080817",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "8360973e3f2cb272",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "f70826966db6b54b",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "8e9e3628e43e2c0e",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "d6cc4f78e1b143a6",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "63c8f0a9d75978aa",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "7bb2cf9ea91e780b",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "4c3d2f3d065885c6",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "31e6bcf77c2d1e97",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "11f18eb860d9901a",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "d2316346cf4232fb",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "a7e287ce3d51c119",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "c0695cb5c8ae006b",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "85fbcf1a65639a50",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599111",
      id: "3e2ff5bd33bc4ed1",
      timestamp: 1715711599111000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "1821822b57c1d6f8",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "5dd1b424b64ca978",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "08ed5bc68302807b",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "9b4d8a2113ba1817",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "1b808d268b7b4f06",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "10417901b62fde5a",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "0b8d495be3164cbd",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "aa74648509a33881",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "f108f0a5d5c2705a",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "33c78e2ead5a7a96",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "ca32a8a95edcfe73",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "2072e169edd94f26",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "1fc1dba4881388f4",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "1023f90f739ebfd7",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "9dae85fcd62d2870",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "3b8624e01590a5f0",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "25e1f617abe33f37",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "6218ffd8e0cc7c52",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "ef67d2db5ca702a6",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "ffdf3098a1953805",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "513d861ec4de9a68",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599112",
      id: "650655e17692d5ae",
      timestamp: 1715711599112000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "500b7c871e5db671",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "0115d49e3ebff043",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "653ee0b5789c2c46",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "20b4027aff4b9b4e",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "1d55a185686d8114",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "4847727ac133b5c2",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "d43a278daf76bc7d",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "29a33ca5fc29e8f5",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "8b7298bd5c1ee456",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "bae2d0dba4324285",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "25e65076825c5407",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "068cf542bfd31276",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "066b277e54e0d5da",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "163a5c894fd8d61a",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "96cd199e550e0b18",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "770279695d3494fe",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "97f0317bca734801",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "b26ddddfbe6fef8c",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599113",
      id: "6e135ac40bec05b7",
      timestamp: 1715711599113000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599114",
      id: "01b4f8c8159afe3f",
      timestamp: 1715711599114000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599114",
      id: "be6ff95449e6f1c4",
      timestamp: 1715711599114000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599114",
      id: "e19e2a2c71b38bb3",
      timestamp: 1715711599114000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599114",
      id: "df6c609e95b6a076",
      timestamp: 1715711599114000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711599114",
      id: "106a4cb5eeded8d6",
      timestamp: 1715711599114000,
      startup: false,
    },
  ];
  let dateInterceptor: libraries.DateInterceptor;

  let redis: any;
  let redisInterceptor: libraries.RedisInterceptor;

  const EXPECTED_BODY =
    '{"success":true,"data":{"worldBoss":{},"currentEvent":{"event":"potions202405","start":"2024-05-14T08:00-04:00","end":"2024-05-31T23:59-04:00"},"currentEventList":[{"event":"potions202405","start":"2024-05-14T08:00-04:00","end":"2024-05-31T23:59-04:00"}]},"appVersion":"5.24.2"}';
  const EXPECTED_RESPONSE_HEADER = {
    "x-dns-prefetch-control": "off",
    "x-frame-options": "SAMEORIGIN",
    "strict-transport-security": "max-age=15552000; includeSubDomains",
    "x-download-options": "noopen",
    "x-content-type-options": "nosniff",
    "x-xss-protection": "0",
    "access-control-allow-methods": "OPTIONS,GET,POST,PUT,HEAD,DELETE",
    "access-control-allow-headers":
      "Authorization,Content-Type,Accept,Content-Encoding,X-Requested-With,x-api-user,x-api-key,x-client",
    "access-control-expose-headers":
      "X-RateLimit-Limit,X-RateLimit-Remaining,X-RateLimit-Reset,Retry-After",
    "x-powered-by": "Express",
    "content-type": "application/json; charset=utf-8",
  };

  beforeEach(() => {
    redis = createClient({});
  });

  afterEach(async () => {
    global.Date = OriginalDate;
    jest.clearAllMocks();
    process.env = originalEnvironment;

    // Emit test results.
    utils.serializeTestResults("generated/test_results/9.json", {
      traceId: "9dafa19eae983a8e65f032ad668bc55b",
      testFile: __filename.split("/").pop() as string,
      request: {
        pathKey: "/api/v4/world-state",
        route: "/api/v4/world-state",
        method: "GET",
      },
      response: {
        expected: {
          status: 200,
          body: EXPECTED_BODY,
          header: EXPECTED_RESPONSE_HEADER,
        },
        observed: {
          status: response.status,
          body:
            response.headers && response.headers["content-length"] == 0
              ? undefined
              : response.text || JSON.stringify(response.body),
          header: libraries.canonicalizeResHeaders(response.header),
        },
      },
      expectedCalls: [...cryptoCallsExpected, ...dateCallsExpected],
      observedCalls: [
        ...httpInterceptor.getObservedCalls(),
        ...cryptoInterceptor.getObservedCalls(),
        ...dateInterceptor.getObservedCalls(),
        ...redisInterceptor.getObservedCalls(),
      ],
    });
  });

  it("should run as expected with example data", async () => {
    // @ts-expect-error we manage http mocking globally, so that we can reuse a
    // global polly server. We pass in hooks to manage the global state here.
    httpInterceptor = new libraries.HttpInterceptor(global.__HTTP_CALL_HOOKS__);
    httpInterceptor.expectCalls([]);

    cryptoInterceptor = new libraries.CryptoInterceptor(crypto);
    cryptoInterceptor.expectCalls(cryptoCallsExpected);

    dateInterceptor = new libraries.DateInterceptor();
    dateInterceptor.expectCalls(dateCallsExpected);

    redisInterceptor = new libraries.RedisInterceptor(redis);
    redisInterceptor.expectCalls([]);

    // Import the app.
    const { app } = await import("../config");

    // Make the request.
    response = await request(app)
      .get("/api/v4/world-state")
      .set("x-forwarded-host", "localhost:8080")
      .set("x-forwarded-proto", "http")
      .set("x-forwarded-port", "8080")
      .set("x-forwarded-for", "127.0.0.1")
      .set("x-client", "habitica-web")
      .set("sec-fetch-dest", "empty")
      .set("connection", "close")
      .set("referer", "http://localhost:8080/")
      .set(
        "user-agent",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3 Safari/605.1.15",
      )
      .set(
        "cookie",
        "amp_AMPLIT=a72VKGk7WN8pWK4CuxxiXx...1hts622gu.1hts62oe3.0.0.0",
      )
      .set("accept-encoding", "gzip, deflate")
      .set("sec-fetch-mode", "cors")
      .set("x-api-key", "99f2973b-fb2a-45da-a585-310c424c7ebc")
      .set("accept-language", "en-US,en;q=0.9")
      .set("x-user-timezoneoffset", "420")
      .set("sec-fetch-site", "same-origin")
      .set("accept", "application/json, text/plain, */*")
      .set("x-api-user", "de2b7530-9d40-4ce7-9a82-210b2ba93564")
      .set("host", "localhost:3000")
      .set("x-detail-originator", "detail");
  });
});
