// Autogenerated Detail test, do not edit.

const originalEnvironment = process.env;
process.env.COPYSCAPE_USERNAME = "UNKNOWN";
process.env.COPYSCAPE_KEY = "REDACTED";
process.env.JUNE_KEY = "REDACTED";
process.env.MG_API_KEY = "REDACTED";
process.env.BUGSNAG_KEY = "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa";
process.env.NANGO = "REDACTED";
process.env.SCREENSHOT_ONE_ACCESS_KEY = "REDACTED";
process.env.SCREENSHOT_ONE_SECRET_KEY = "REDACTED";
process.env.__DETAIL_TEST_MODE = "true";

import { libraries, request, utils } from "@detail-dev/replay";
import crypto from "crypto";
import { createClient } from "redis";

jest.mock("crypto", () => {
  const mCrypto = {
    ...jest.requireActual("crypto"),
  };
  return mCrypto;
});
jest.mock("redis", () => libraries.RedisInterceptor.createMock());

describe("GET /api/v4/world-state", () => {
  let response: request.Response;
  let httpInterceptor: libraries.HttpInterceptor;

  // Set up crypto fixtures.
  const cryptoCallsExpected = [
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [5],
      },
      output: {
        type: "Buffer",
        data: [8, 248, 113, 25, 236],
      },
      id: "442f2057c1753dc3",
      timestamp: 1715711549203000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          180, 236, 237, 16, 110, 219, 146, 238, 126, 38, 168, 140, 205, 212,
          221, 120,
        ],
      },
      id: "bdd011245180a8fc",
      timestamp: 1715711549215000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          116, 10, 242, 165, 56, 32, 80, 201, 109, 203, 153, 83, 220, 179, 90,
          161,
        ],
      },
      id: "46ef1fcdec824bff",
      timestamp: 1715711549216000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          107, 239, 239, 76, 158, 177, 200, 16, 46, 12, 106, 156, 128, 248, 44,
          17,
        ],
      },
      id: "f062b03a2296796a",
      timestamp: 1715711549217000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          6, 169, 36, 112, 180, 204, 220, 129, 240, 105, 184, 111, 145, 42, 12,
          123,
        ],
      },
      id: "2aba6ea91ed1e9be",
      timestamp: 1715711549219000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          55, 206, 250, 126, 189, 142, 84, 126, 39, 149, 110, 82, 130, 152, 22,
          92,
        ],
      },
      id: "657f01cad6866157",
      timestamp: 1715711549220000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          176, 174, 150, 55, 64, 92, 87, 203, 193, 246, 169, 128, 114, 42, 33,
          239,
        ],
      },
      id: "fb74fa3188b8bd8a",
      timestamp: 1715711549223000,
      startup: true,
    },
    {
      library: "crypto",
      input: {
        functionName: "randomBytes",
        args: [16],
      },
      output: {
        type: "Buffer",
        data: [
          42, 251, 223, 107, 142, 31, 233, 46, 84, 233, 26, 173, 242, 11, 153,
          5,
        ],
      },
      id: "25a2cdb73fdb71f3",
      timestamp: 1715711549224000,
      startup: true,
    },
  ];
  let cryptoInterceptor: libraries.CryptoInterceptor;

  const OriginalDate = Date;
  // Set up date fixtures.
  const dateCallsExpected = [
    {
      library: "date",
      input: "now",
      output: "1715711576644",
      id: "14664e7c912b1108",
      timestamp: 1715711576643000,
      startup: false,
    },
    {
      library: "date",
      input: "Date.new",
      output: "2024-05-14T18:32:56.644Z",
      id: "be536476c4009fd6",
      timestamp: 1715711576644000,
      startup: false,
    },
    {
      library: "date",
      input: "Date.new",
      output: "2024-05-14T18:32:56.644Z",
      id: "837b3ff26b874e59",
      timestamp: 1715711576644000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576647",
      id: "56b12b7c8886176b",
      timestamp: 1715711576647000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576647",
      id: "c84b182cc9206f13",
      timestamp: 1715711576647000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576647",
      id: "b722df6c33b3a89b",
      timestamp: 1715711576647000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576648",
      id: "2a72235db67d395f",
      timestamp: 1715711576648000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576648",
      id: "421d11bc03b7fbef",
      timestamp: 1715711576648000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576648",
      id: "204438c3c490b9ce",
      timestamp: 1715711576648000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576648",
      id: "b08468a82e39c6b4",
      timestamp: 1715711576648000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576649",
      id: "64cafdf42001f8d5",
      timestamp: 1715711576649000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576649",
      id: "d89f3138e7fe863e",
      timestamp: 1715711576649000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576649",
      id: "1c39be46fbdef000",
      timestamp: 1715711576649000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576649",
      id: "f5d8e224fee8e5e1",
      timestamp: 1715711576649000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "8d37a90c9dc913dc",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "a1a4ff62109f2e59",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "5a1315d6d9148b27",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "cc35569eb6922747",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "7ee958083eb54fed",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "ddfeaf3b00cb59c7",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "5169ba3edd1ec6f7",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "01ce291b8d0d04a3",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "00d9e318cb20448d",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "4f64b109a3239a4e",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "28152388e5d81edd",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576650",
      id: "9663a6b751380e45",
      timestamp: 1715711576650000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576652",
      id: "8dcb6a956e762b65",
      timestamp: 1715711576652000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "f22d3823a8f2c669",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "db72db038c7dcbff",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "f7633340c70c8778",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "b30f790613dc28cf",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "ad30d41b8688e270",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "33400e311b0f715d",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576653",
      id: "139efc77da529fa5",
      timestamp: 1715711576653000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "181855a39426ecac",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "e8eebac9999ef3ca",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "2f9416bdb2619e08",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "88b8aa2aacb06b2c",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "2714ba06c85d5487",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "627e9f1ab5bbee3f",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "45856b24cfbb547f",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "4f25958a71a55fe2",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576654",
      id: "09a5026edd81eb4b",
      timestamp: 1715711576654000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576655",
      id: "223f63ec75976d14",
      timestamp: 1715711576655000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576655",
      id: "7874be5f3cb5ea62",
      timestamp: 1715711576655000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576655",
      id: "cfc4fb1680b8bae7",
      timestamp: 1715711576655000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576655",
      id: "880fb58e3ae57864",
      timestamp: 1715711576655000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576655",
      id: "00e87f644d724cee",
      timestamp: 1715711576655000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "3225b4ff9723ebd0",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "11681f68c9696c9e",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "897c8aa250ce1c21",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "556e6519b6950d66",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "de956a9d37099af2",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576656",
      id: "a59dc098831f1e23",
      timestamp: 1715711576656000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576657",
      id: "f04a11adcad66373",
      timestamp: 1715711576657000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576657",
      id: "101b82550ac6d5a0",
      timestamp: 1715711576657000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576657",
      id: "250e127fc3368fd9",
      timestamp: 1715711576657000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576657",
      id: "842c4ac454ee7827",
      timestamp: 1715711576657000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576657",
      id: "8fc50abe4be03b21",
      timestamp: 1715711576657000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "5316072e007c9831",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "b3dab3c1e204caa3",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "736a18452aa0bb77",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "c63dc73f87a156d6",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "6acd4e564d0b2f40",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576658",
      id: "7c1310b798abff53",
      timestamp: 1715711576658000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "38a6bfb85df645fb",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "41aac8490d792c22",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "23d708debff75f22",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "c9eba4ab35388886",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "dae3644c13114df9",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576659",
      id: "c64e161fcbcc203d",
      timestamp: 1715711576659000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576660",
      id: "5963caa9e1c704e6",
      timestamp: 1715711576660000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576660",
      id: "e4f466b819648038",
      timestamp: 1715711576660000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576660",
      id: "379ecf94b8bb412c",
      timestamp: 1715711576660000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576660",
      id: "8020ee1ee8b8c7a0",
      timestamp: 1715711576660000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576660",
      id: "0984e4c26e5afd1e",
      timestamp: 1715711576660000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "59be687c6dbc8eb4",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "c9519bfa4f3b11d7",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "9001182cc8c3122f",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "f78c355ecc88e3e7",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "8ad1dd63a53909c6",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "1489fe76efb862bc",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "324f0792e241f67f",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "b999c8d3f795dd58",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "74ce0c66bcbfb7bc",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "87a2d09f63a0e0b1",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576661",
      id: "a1c9068bb2c630e1",
      timestamp: 1715711576661000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576662",
      id: "7cd8badf4e020300",
      timestamp: 1715711576662000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576662",
      id: "e2da23a0edc0e282",
      timestamp: 1715711576662000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576662",
      id: "52a268bb463bc5f2",
      timestamp: 1715711576662000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576662",
      id: "728c64cc23243a2f",
      timestamp: 1715711576662000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576663",
      id: "544d3c0b681cf03e",
      timestamp: 1715711576663000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576663",
      id: "02610a7c0d6964ce",
      timestamp: 1715711576663000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576663",
      id: "99047b2c51625f8a",
      timestamp: 1715711576663000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "6f59734e75d0d497",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "5f97448a604eae94",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "a0d41f3e8adc2094",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "2457961c52712ff9",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "fcdd6d15ffb6f8a2",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "433b8680baa1f20c",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576664",
      id: "66a7ad3e1d047982",
      timestamp: 1715711576664000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "f2745113be10e0a2",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "e37ae75e14436692",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "8c50bcf61ba85b07",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "b41f2e4757e265f0",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "97d964e8f314dc66",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "b30947afa89bd9d1",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "5596609c56756d56",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "d94af3b5db13c0a8",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "dd4a2dbe4dbc2e97",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "7c0bc1d9b15ea701",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "4452d9125cc0b753",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "dd4f598b38220773",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "da7f6e7e105a5be4",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "4729791a950d9984",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576665",
      id: "00d6e9a590abe40a",
      timestamp: 1715711576665000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576666",
      id: "24bac60908d0c733",
      timestamp: 1715711576666000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576666",
      id: "f2b5e9bd982984c4",
      timestamp: 1715711576666000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576666",
      id: "f416053d8c3c8bc0",
      timestamp: 1715711576666000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576666",
      id: "52b8f055885b84ad",
      timestamp: 1715711576666000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "5da6d10e5df92f10",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "5da34abb35c28c6b",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "c3ef0557cbf64a7b",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "9569493a8f5f75a3",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "752a2cde2d6573ae",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "1636009cbadded03",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "20c84718f4abd6dd",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "ecc1fe71d31c4796",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "a9da472c920c0bd1",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "c0078bf76b10f072",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "ecb2b68f73a757e8",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "84a7b23736da3983",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "05858f6f305e7406",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576667",
      id: "e57c0ba1bd5366d0",
      timestamp: 1715711576667000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "41f466338f814ee6",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "cfe6c2037ec0b07d",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "3dd21119c8055d16",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "8be98efc863be98b",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "68ddd0ca823754d9",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "0f6861cba8301a4a",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576668",
      id: "44c153c7b0a63eb8",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "e625b22404e2cca4",
      timestamp: 1715711576668000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "84e8e0cc0fafe71f",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "9663463a59df7380",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "9f72faa10c31d795",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "e97c6ef498824efb",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "9e9eabde2bda065b",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "51af2fc91641a6d8",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "e16334163239ffb5",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "f4cbda4f2316d9cb",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "b52e8cc541cbfbaf",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "4f1671779ca2f324",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576669",
      id: "81035ca58a235f2f",
      timestamp: 1715711576669000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "531ceab019af5381",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "948dcbbcf3a7d8fd",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "5e143072d8f63eea",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "629eedc8eda8f0af",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "5a8eebab85ca3265",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "abae20e9566580f0",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "5244c75fa8b0ab59",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "851ee6ff54798af3",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "729e39479d593d77",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "6e3fc903a83224b6",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "3d6c7ff69fdb7e15",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "b3e84622b0455f38",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "5a376cb3494d0746",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "d7f0e189c4fa1eb4",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "e6a023eb6ce3189d",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576670",
      id: "6b8e6fc378af60ff",
      timestamp: 1715711576670000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "d25483829252ba71",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "33be32e796e4a26e",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "2c86c71392664e50",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "3ac02908828e3e54",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "a561e83a72933aaa",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "51e99f0c98261d76",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "adb904c806447e67",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "49536bc55e21e822",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "c82339be5c4efd94",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "5317858e9b640b28",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "95cababbb5e5bd76",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "36026bc36d5d4485",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "01085eb4073fd4d6",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "bcba0975aff5ea28",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "d29509831b0f7ecc",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "2b97ddc4558b7eca",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576671",
      id: "d85efd4cd01a68bb",
      timestamp: 1715711576671000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "05c7681b95840080",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "a5b9546b94aacf49",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "74028e8ac7760c4f",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "758d798daf05343b",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "e35fca736108c45a",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "41dee7871db3727a",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "b01f0fd81fc32964",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "393eb72dd8d511fc",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "e0ae2a0263357cb6",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576672",
      id: "7cf187fe7266a2db",
      timestamp: 1715711576672000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "31abac7eea80d152",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "fe68da4a0356fa2f",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "b806ce8a23105330",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "aefffe6b6b4721cd",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "649ea5428df21b04",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "7e833d2fb60d748a",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "ece9ac4875adc85e",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "453b87b876029a8d",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "4b78d8f02aabe22f",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "801d9bc339c39526",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "4b7ac9e5bb9dbd92",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576673",
      id: "8fbc72fe2ec06a35",
      timestamp: 1715711576673000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "3e131b3ea41a2d69",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "0d48e72e24c6b11b",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "e3bf9994f7708e60",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "e3e379ee09c88c3a",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "a79b382075996c6a",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "e2be7a61b0abc04f",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "ae8d33f937150452",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "2ab1196687aed134",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "26229b16421b35c7",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "953527e280992caf",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "6b4de4fd0e5c99cb",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "0cefb2d3c555958f",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "102bdfb3745c9942",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "81bd37cbe3975e2c",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576674",
      id: "074b88ca2380ed8e",
      timestamp: 1715711576674000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "cf11b9d7d7099a77",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "0c154c284cd47d2f",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "08aa26902aefacdd",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "b0ec95259360c812",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "2681120ade03f8d7",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "364ca59d8a20eec4",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "07eb6f77e779c2d5",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "a3d4ae86663fa645",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576675",
      id: "da6d0e3fe86b82a8",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "64c61eade183b4da",
      timestamp: 1715711576675000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "de80c0b7c4a803f7",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "9e8857095f70300a",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "657aab49e74661ba",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "5080b9a503f7bb68",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "e8494b7688cbcac6",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "c44f9349de4adf25",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "43b60eb358132f8b",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "948e891e63defb5e",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "9fbef4d12c3d4fa0",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "eb9126b0448c2b06",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "ce3770c219865126",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576676",
      id: "f304457de4cbfcf0",
      timestamp: 1715711576676000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "fecc11d23cc7204d",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "c6c4f20988044ee4",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "0a9dfa88bdf3427e",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "d64606c2a3f07790",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "4bf4ce7cec4fe808",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "ade38c14e6f8114e",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "f346ed7003f99c2c",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "6df8453aee3dc300",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "ab5fa651cd900d11",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "861f77c1e640995b",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "e7f5470f26c9044e",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576677",
      id: "122b35a64db7e6f2",
      timestamp: 1715711576677000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "c95d392db9e3547a",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "5f2e7a5f2e2b2191",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "ef37c53cc514a008",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "8420e35ccaebf317",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "badd8de88d6f2ffa",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "cd46b5f58730438e",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "302936f4fee96a93",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "1a8af9a800d1fbc9",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "a2367b70c31c08c3",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "31d0eaa190acf4c4",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "4877e9d2aff21eee",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "99b5fafc3156940e",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "c6d19edc263f45a3",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "6bba5316b5f1adf0",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "eda5ba67ff061b4e",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "c8afb1b4b6e5b902",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "03f1fefb2d447f30",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576678",
      id: "5a4dd4e965711824",
      timestamp: 1715711576678000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576679",
      id: "50c4e8dfe71f89a5",
      timestamp: 1715711576679000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576679",
      id: "f5b556ec8c03e31f",
      timestamp: 1715711576679000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576679",
      id: "66b9683eb0d610b4",
      timestamp: 1715711576679000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576679",
      id: "c89aba3d8005a1f0",
      timestamp: 1715711576679000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576679",
      id: "babb7de46151c2b7",
      timestamp: 1715711576679000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "b08584d6f4ae624a",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "e4503f4049bc36b2",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "8efd8446919a44ad",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "2c2bd666afa0bc24",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "9c79be3fe5657dad",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "7174ea1066d399e5",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "c12015adf76194a1",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "0a058a78e9011028",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "0f6dd3d832e5b3a9",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "dd64ddc115cf85f4",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "998deaa2ec6e4ac0",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "3eff8c9665e46f6e",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "32efced34f85fe31",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "6346143ce6ca0d94",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "c1a1e488074e2e40",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "bc1c68f510390f56",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "a03de818f1455682",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576680",
      id: "44d28a2ba158be29",
      timestamp: 1715711576680000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576681",
      id: "b28f0eae49b778b4",
      timestamp: 1715711576681000,
      startup: false,
    },
    {
      library: "date",
      input: "now",
      output: "1715711576681",
      id: "f48a881f0d313f60",
      timestamp: 1715711576681000,
      startup: false,
    },
  ];
  let dateInterceptor: libraries.DateInterceptor;

  let redis: any;
  let redisInterceptor: libraries.RedisInterceptor;

  const EXPECTED_BODY =
    '{"success":true,"data":{"worldBoss":{},"currentEvent":{"event":"potions202405","start":"2024-05-14T08:00-04:00","end":"2024-05-31T23:59-04:00"},"currentEventList":[{"event":"potions202405","start":"2024-05-14T08:00-04:00","end":"2024-05-31T23:59-04:00"}]},"appVersion":"5.24.2"}';
  const EXPECTED_RESPONSE_HEADER = {
    "x-dns-prefetch-control": "off",
    "x-frame-options": "SAMEORIGIN",
    "strict-transport-security": "max-age=15552000; includeSubDomains",
    "x-download-options": "noopen",
    "x-content-type-options": "nosniff",
    "x-xss-protection": "0",
    "access-control-allow-methods": "OPTIONS,GET,POST,PUT,HEAD,DELETE",
    "access-control-allow-headers":
      "Authorization,Content-Type,Accept,Content-Encoding,X-Requested-With,x-api-user,x-api-key,x-client",
    "access-control-expose-headers":
      "X-RateLimit-Limit,X-RateLimit-Remaining,X-RateLimit-Reset,Retry-After",
    "x-powered-by": "Express",
    "content-type": "application/json; charset=utf-8",
  };

  beforeEach(() => {
    redis = createClient({});
  });

  afterEach(async () => {
    global.Date = OriginalDate;
    jest.clearAllMocks();
    process.env = originalEnvironment;

    // Emit test results.
    utils.serializeTestResults("generated/test_results/1.json", {
      traceId: "075a180a7196b7892b1328bb0123c6b7",
      testFile: __filename.split("/").pop() as string,
      request: {
        pathKey: "/api/v4/world-state",
        route: "/api/v4/world-state",
        method: "GET",
      },
      response: {
        expected: {
          status: 200,
          body: EXPECTED_BODY,
          header: EXPECTED_RESPONSE_HEADER,
        },
        observed: {
          status: response.status,
          body:
            response.headers && response.headers["content-length"] == 0
              ? undefined
              : response.text || JSON.stringify(response.body),
          header: libraries.canonicalizeResHeaders(response.header),
        },
      },
      expectedCalls: [...cryptoCallsExpected, ...dateCallsExpected],
      observedCalls: [
        ...httpInterceptor.getObservedCalls(),
        ...cryptoInterceptor.getObservedCalls(),
        ...dateInterceptor.getObservedCalls(),
        ...redisInterceptor.getObservedCalls(),
      ],
    });
  });

  it("should run as expected with example data", async () => {
    // @ts-expect-error we manage http mocking globally, so that we can reuse a
    // global polly server. We pass in hooks to manage the global state here.
    httpInterceptor = new libraries.HttpInterceptor(global.__HTTP_CALL_HOOKS__);
    httpInterceptor.expectCalls([]);

    cryptoInterceptor = new libraries.CryptoInterceptor(crypto);
    cryptoInterceptor.expectCalls(cryptoCallsExpected);

    dateInterceptor = new libraries.DateInterceptor();
    dateInterceptor.expectCalls(dateCallsExpected);

    redisInterceptor = new libraries.RedisInterceptor(redis);
    redisInterceptor.expectCalls([]);

    // Import the app.
    const { app } = await import("../config");

    // Make the request.
    response = await request(app)
      .get("/api/v4/world-state")
      .set("x-forwarded-host", "localhost:8080")
      .set("x-forwarded-proto", "http")
      .set("x-forwarded-port", "8080")
      .set("x-forwarded-for", "127.0.0.1")
      .set("sec-fetch-dest", "empty")
      .set(
        "cookie",
        "amp_AMPLIT=a72VKGk7WN8pWK4CuxxiXx...1hts622gu.1hts622gu.0.0.0",
      )
      .set("referer", "http://localhost:8080/")
      .set("connection", "close")
      .set(
        "user-agent",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.3 Safari/605.1.15",
      )
      .set("x-client", "habitica-web")
      .set("sec-fetch-mode", "cors")
      .set("accept-encoding", "gzip, deflate")
      .set("accept-language", "en-US,en;q=0.9")
      .set("sec-fetch-site", "same-origin")
      .set("accept", "application/json, text/plain, */*")
      .set("host", "localhost:3000")
      .set("x-detail-originator", "detail");
  });
});
